# æ²¹å¢©æ¸¯æ•°å­—ç®¡ç†å¹³å°å¼€å‘æŒ‡å—

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Java 8+
- Node.js 16+
- MySQL 8.0+
- Redis 7.0+
- Docker 20.10+
- Maven 3.6+

### æœ¬åœ°å¼€å‘ç¯å¢ƒæ­å»º

#### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/yuffiepro/oilPierHarbour_pro.git
cd oilPierHarbour_pro
```

#### 2. å¯åŠ¨åŸºç¡€è®¾æ–½æœåŠ¡
```bash
# å¯åŠ¨MySQLã€Redisã€RabbitMQã€MQTTç­‰æœåŠ¡
docker-compose up -d mysql redis rabbitmq mqtt
```

#### 3. åˆå§‹åŒ–æ•°æ®åº“
```bash
# è¿æ¥MySQLå¹¶æ‰§è¡Œåˆå§‹åŒ–è„šæœ¬
mysql -u root -p < src/main/resources/database/init.sql
```

#### 4. å¯åŠ¨åç«¯æœåŠ¡
```bash
# ä½¿ç”¨Mavenå¯åŠ¨Spring Bootåº”ç”¨
mvn spring-boot:run
```

#### 5. å¯åŠ¨å‰ç«¯æœåŠ¡
```bash
# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
oilPierHarbour_pro/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”œâ”€â”€ java/com/oilpierharbour/platform/
â”‚   â”‚   â”‚   â”œâ”€â”€ common/          # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ config/          # é…ç½®ç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ controller/      # æ§åˆ¶å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ entity/          # å®ä½“ç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ mapper/          # æ•°æ®è®¿é—®å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ mqtt/            # MQTTç›¸å…³
â”‚   â”‚   â”‚   â”œâ”€â”€ service/         # ä¸šåŠ¡æœåŠ¡å±‚
â”‚   â”‚   â”‚   â””â”€â”€ security/        # å®‰å…¨ç›¸å…³
â”‚   â”‚   â””â”€â”€ resources/
â”‚   â”‚       â”œâ”€â”€ mapper/          # MyBatis XMLæ˜ å°„æ–‡ä»¶
â”‚   â”‚       â”œâ”€â”€ database/        # æ•°æ®åº“è„šæœ¬
â”‚   â”‚       â””â”€â”€ application.yml  # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ views/                   # å‰ç«¯é¡µé¢
â”œâ”€â”€ docs/                        # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ docker-compose.yml           # Dockerç¼–æ’æ–‡ä»¶
â””â”€â”€ README.md                    # é¡¹ç›®è¯´æ˜
```

## ğŸ”§ å¼€å‘è§„èŒƒ

### ä»£ç è§„èŒƒ
- ä½¿ç”¨Java 8è¯­æ³•ç‰¹æ€§
- éµå¾ªé˜¿é‡Œå·´å·´Javaå¼€å‘æ‰‹å†Œ
- ç±»åä½¿ç”¨å¤§é©¼å³°å‘½åæ³•
- æ–¹æ³•åå’Œå˜é‡åä½¿ç”¨å°é©¼å³°å‘½åæ³•
- å¸¸é‡ä½¿ç”¨å…¨å¤§å†™åŠ ä¸‹åˆ’çº¿

### æ•°æ®åº“è§„èŒƒ
- è¡¨åä½¿ç”¨ä¸‹åˆ’çº¿å‘½åæ³•
- å­—æ®µåä½¿ç”¨ä¸‹åˆ’çº¿å‘½åæ³•
- ä¸»é”®ç»Ÿä¸€ä½¿ç”¨`id`
- æ—¶é—´å­—æ®µä½¿ç”¨`create_time`å’Œ`update_time`
- é€»è¾‘åˆ é™¤å­—æ®µä½¿ç”¨`deleted`

### APIè®¾è®¡è§„èŒƒ
- RESTful APIè®¾è®¡
- ç»Ÿä¸€å“åº”æ ¼å¼
- ä½¿ç”¨HTTPçŠ¶æ€ç 
- å‚æ•°éªŒè¯å’Œé”™è¯¯å¤„ç†

## ğŸ“ å¼€å‘æµç¨‹

### 1. åŠŸèƒ½å¼€å‘
1. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ï¼š`git checkout -b feature/åŠŸèƒ½åç§°`
2. å¼€å‘åŠŸèƒ½ä»£ç 
3. ç¼–å†™å•å…ƒæµ‹è¯•
4. æäº¤ä»£ç ï¼š`git commit -m "feat: æ·»åŠ åŠŸèƒ½æè¿°"`
5. æ¨é€åˆ°è¿œç¨‹ï¼š`git push origin feature/åŠŸèƒ½åç§°`

### 2. ä»£ç å®¡æŸ¥
1. åˆ›å»ºPull Request
2. ä»£ç å®¡æŸ¥å’Œè®¨è®º
3. ä¿®æ”¹å’Œå®Œå–„ä»£ç 
4. åˆå¹¶åˆ°ä¸»åˆ†æ”¯

### 3. æµ‹è¯•éƒ¨ç½²
1. æœ¬åœ°æµ‹è¯•
2. é›†æˆæµ‹è¯•
3. éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒ
4. ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

## ğŸ§ª æµ‹è¯•æŒ‡å—

### å•å…ƒæµ‹è¯•
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
mvn test

# è¿è¡Œç‰¹å®šæµ‹è¯•ç±»
mvn test -Dtest=TestClassName

# ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š
mvn surefire-report:report
```

### é›†æˆæµ‹è¯•
```bash
# è¿è¡Œé›†æˆæµ‹è¯•
mvn verify

# è·³è¿‡æµ‹è¯•æ„å»º
mvn clean install -DskipTests
```

## ğŸš€ éƒ¨ç½²æŒ‡å—

### å¼€å‘ç¯å¢ƒ
```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f service_name
```

### ç”Ÿäº§ç¯å¢ƒ
```bash
# æ„å»ºé•œåƒ
docker-compose build

# å¯åŠ¨ç”Ÿäº§ç¯å¢ƒ
docker-compose -f docker-compose.prod.yml up -d

# æ›´æ–°æœåŠ¡
docker-compose pull && docker-compose up -d
```

## ğŸ” è°ƒè¯•æŒ‡å—

### åç«¯è°ƒè¯•
1. ä½¿ç”¨IDEè°ƒè¯•å™¨
2. æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶
3. ä½¿ç”¨Spring Boot Actuator
4. æ•°æ®åº“è¿æ¥æµ‹è¯•

### å‰ç«¯è°ƒè¯•
1. æµè§ˆå™¨å¼€å‘è€…å·¥å…·
2. Vue DevTools
3. ç½‘ç»œè¯·æ±‚ç›‘æ§
4. æ§åˆ¶å°æ—¥å¿—

### MQTTè°ƒè¯•
1. ä½¿ç”¨MQTTå®¢æˆ·ç«¯å·¥å…·
2. æŸ¥çœ‹MQTT Brokeræ—¥å¿—
3. æ£€æŸ¥ä¸»é¢˜è®¢é˜…
4. æ¶ˆæ¯å‘é€æµ‹è¯•

## ğŸ“š å¸¸ç”¨å‘½ä»¤

### Mavenå‘½ä»¤
```bash
# æ¸…ç†ç¼–è¯‘
mvn clean compile

# è¿è¡Œåº”ç”¨
mvn spring-boot:run

# æ‰“åŒ…åº”ç”¨
mvn clean package

# å®‰è£…åˆ°æœ¬åœ°ä»“åº“
mvn clean install
```

### Dockerå‘½ä»¤
```bash
# æŸ¥çœ‹å®¹å™¨çŠ¶æ€
docker ps -a

# æŸ¥çœ‹å®¹å™¨æ—¥å¿—
docker logs container_name

# è¿›å…¥å®¹å™¨
docker exec -it container_name /bin/bash

# åœæ­¢æ‰€æœ‰å®¹å™¨
docker stop $(docker ps -aq)
```

### Gitå‘½ä»¤
```bash
# æŸ¥çœ‹åˆ†æ”¯
git branch -a

# åˆ‡æ¢åˆ†æ”¯
git checkout branch_name

# åˆå¹¶åˆ†æ”¯
git merge branch_name

# æŸ¥çœ‹æäº¤å†å²
git log --oneline
```

## ğŸ†˜ å¸¸è§é—®é¢˜

### 1. æ•°æ®åº“è¿æ¥å¤±è´¥
- æ£€æŸ¥MySQLæœåŠ¡æ˜¯å¦å¯åŠ¨
- éªŒè¯è¿æ¥å‚æ•°æ˜¯å¦æ­£ç¡®
- ç¡®è®¤æ•°æ®åº“ç”¨æˆ·æƒé™

### 2. Redisè¿æ¥å¤±è´¥
- æ£€æŸ¥RedisæœåŠ¡æ˜¯å¦å¯åŠ¨
- éªŒè¯Redisé…ç½®å‚æ•°
- ç¡®è®¤ç½‘ç»œè¿æ¥

### 3. MQTTè¿æ¥å¤±è´¥
- æ£€æŸ¥MQTT Brokeræ˜¯å¦å¯åŠ¨
- éªŒè¯è¿æ¥å‚æ•°
- ç¡®è®¤ä¸»é¢˜æƒé™

### 4. å‰ç«¯æ„å»ºå¤±è´¥
- æ£€æŸ¥Node.jsç‰ˆæœ¬
- æ¸…ç†node_modulesé‡æ–°å®‰è£…
- éªŒè¯ä¾èµ–ç‰ˆæœ¬å…¼å®¹æ€§

## ğŸ“ æŠ€æœ¯æ”¯æŒ

- é¡¹ç›®ç»´æŠ¤è€…ï¼š[ç»´æŠ¤è€…å§“å]
- æŠ€æœ¯äº¤æµç¾¤ï¼š[ç¾¤å·]
- é—®é¢˜åé¦ˆï¼š[Issueé“¾æ¥]
- æ–‡æ¡£æ›´æ–°ï¼š[Wikié“¾æ¥]

---

**ç¥æ‚¨å¼€å‘æ„‰å¿«ï¼** ğŸ‰

